<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="catalog_script_client">
    <catalog_script_client action="DELETE">
        <active>true</active>
        <applies_catalog>true</applies_catalog>
        <applies_extended>false</applies_extended>
        <applies_req_item>false</applies_req_item>
        <applies_sc_task>false</applies_sc_task>
        <applies_target_record>false</applies_target_record>
        <applies_to>item</applies_to>
        <cat_item display_value="Car parking reservation">f64205c54709711021f49128436d433a</cat_item>
        <cat_variable>IO:01c6e0394701711021f49128436d4328</cat_variable>
        <condition/>
        <description/>
        <field/>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>คำนวณ DateTime, Hours, Price</name>
        <order/>
        <script><![CDATA[function onChange(control, oldValue, newValue, isLoading) {
    if (isLoading || newValue == '') {
        return;
    }
    var st = g_form.getValue('u_start_dt');
    var end = g_form.getValue('u_end_dt');

    var call = new GlideAjax('Calculate_Datetime');
    call.addParam('sysparm_name', 'calculate');
    call.addParam('st_dt', st);
    call.addParam('ed_dt', end);
    call.getXML(getResponse);

    function getResponse(response) {
        var result = response.responseXML.documentElement.getAttribute('answer');
        if (result != "correct") {
            switch (result) {
                case "More_than":
					g_form.clearValue('u_end_dt');
                    g_form.clearValue('u_hours');
                    g_form.showFieldMsg("u_end_dt", "กรุณาเลือกวันที่ให้อยู่ในวันเดียวกัน", "error");
					g_form.setValue('u_price',"Error");
                    break;
                case "st_Open_Close":
                    g_form.showFieldMsg("u_start_dt", "เวลาเปิด-ปิด 10.00 น. - 21.00 น.", "error");
                    g_form.clearValue('u_price');
                    g_form.clearValue('u_hours');
                    break;
                case "ed_Open_Close":
                    g_form.showFieldMsg("u_end_dt", "เวลาเปิด-ปิด 10.00 น. - 21.00 น.", "error");
                    g_form.clearValue('u_price');
                    g_form.clearValue('u_hours');
                    break;
            }
        }
    }


}]]></script>
        <sys_class_name>catalog_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-09-05 14:01:02</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>8a713a9247c5f11021f49128436d432d</sys_id>
        <sys_mod_count>53</sys_mod_count>
        <sys_name>คำนวณ DateTime, Hours, Price</sys_name>
        <sys_overrides/>
        <sys_package display_value="Car parking reservation" source="x_950909_car_park">083c1ad84741311021f49128436d4349</sys_package>
        <sys_policy/>
        <sys_scope display_value="Car parking reservation">083c1ad84741311021f49128436d4349</sys_scope>
        <sys_update_name>catalog_script_client_8a713a9247c5f11021f49128436d432d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-09-06 06:20:37</sys_updated_on>
        <table/>
        <type>onChange</type>
        <ui_type>10</ui_type>
        <variable_set/>
        <view/>
    </catalog_script_client>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Car parking reservation">083c1ad84741311021f49128436d4349</application>
        <file_path/>
        <instance_id>170ba93adb00951052cec59705961995</instance_id>
        <instance_name>dev129080</instance_name>
        <name>catalog_script_client_8a713a9247c5f11021f49128436d432d</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Car parking reservation"&gt;f64205c54709711021f49128436d433a&lt;/cat_item&gt;&lt;cat_variable&gt;IO:01c6e0394701711021f49128436d4328&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;คำนวณ DateTime, Hours, Price&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading) {
    if (isLoading || newValue == '') {
        return;
    }
    var st = g_form.getValue('u_start_dt');
    var end = g_form.getValue('u_end_dt');

    var call = new GlideAjax('Calculate_Datetime');
    call.addParam('sysparm_name', 'calculate');
    call.addParam('st_dt', st);
    call.addParam('ed_dt', end);
    call.getXML(getResponse);

    function getResponse(response) {
        var result = response.responseXML.documentElement.getAttribute('answer');
        if (result != "correct") {
            switch (result) {
                case "More_than":
					g_form.clearValue('u_end_dt');
                    g_form.clearValue('u_hours');
                    g_form.showFieldMsg("u_end_dt", "กรุณาเลือกวันที่ให้อยู่ในวันเดียวกัน", "error");
					g_form.setValue('u_price',"Error");
                    break;
                case "st_Open_Close":
                    g_form.showFieldMsg("u_start_dt", "เวลาเปิด-ปิด 10.00 น. - 21.00 น.", "error");
                    g_form.clearValue('u_price');
                    g_form.clearValue('u_hours');
                    break;
                case "ed_Open_Close":
                    g_form.showFieldMsg("u_end_dt", "เวลาเปิด-ปิด 10.00 น. - 21.00 น.", "error");
                    g_form.clearValue('u_price');
                    g_form.clearValue('u_hours');
                    break;
            }
        }
    }


}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-05 14:01:02&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;8a713a9247c5f11021f49128436d432d&lt;/sys_id&gt;&lt;sys_mod_count&gt;53&lt;/sys_mod_count&gt;&lt;sys_name&gt;คำนวณ DateTime, Hours, Price&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Car parking reservation" source="x_950909_car_park"&gt;083c1ad84741311021f49128436d4349&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Car parking reservation"&gt;083c1ad84741311021f49128436d4349&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_8a713a9247c5f11021f49128436d432d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-06 06:20:37&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
        <payload_hash>-797054094</payload_hash>
        <record_name>คำนวณ DateTime, Hours, Price</record_name>
        <reverted_from/>
        <source>049e12944781311021f49128436d43d1</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-09-06 06:20:37</sys_created_on>
        <sys_id>aba1dee647c1311021f49128436d43e9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>18a6926622b0000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-09-06 06:20:37</sys_updated_on>
        <type>Catalog Client Scripts</type>
        <update_guid>a3a1dee68fc131101e1081d7d646fee9</update_guid>
        <update_guid_history>a3a1dee68fc131101e1081d7d646fee9:-797054094,cf4152e67ec13110156efcd77e1f267d:1964014094,2f0112e629c1311089043ea5b2a8df14:-119370836,0d5f46668fc1311095cecea3ee08f95a:798881621,a57e0a261dc1311057e612f02fbb764b:1024951918,8a0e0aa285c131107f018b012fc80d2b:1665038601,0dfd466294c13110c72e95beb0cdf06d:-1842821431,7cdd06269ac131102fb887ceeea40a79:666711214,889c8a2272c13110d9cd9aa3e8e9df96:-1094072634,1f0cceeee9813110e290bbff325f00f3:78898584,31dbc66283c131105ed67b6865dbfd06:1518116604,1bda06eeb681311062725377910c8e0d:1616427471,d0aa0aee8e813110291cf0a9591182c6:108687814,2e2a06eeef8131108346d36b28ad1cc7:791900852,0b790aeed6813110da9fab9ca10966f6:-2134684821,e1490aee9a813110fbb3dddcfeb64084:-1194484154,9c090aee4781311091765b5d752eac7e:2129046883,bbb88eae288131109269f4c1de85d841:270820014,207886ae8581311068cd566c42561d59:-1514831206,593886ae548131101e7c036b5e8cd7a0:270820014,2ff786ae61813110c591dc86dee65352:-1486241397,b277866eb3813110210875c641fe175c:-1467247056,87f6866e2b813110c155d1a5f359c5a2:1248549413,fa46c22e798131109a039e6360c1d40a:1607260208,be16c6ea3181311036279866f205bfc4:1590150962,64d5822e2981311010b2c8a9f4f63378:-1207098687,37458aea9a81311042bd5129e70d19bd:-2123819118,391586eaf081311010000d857d7f80e8:-1318495951,0ac44e6add813110f42b0ca7aee2c8c1:735324023,16634e2af9813110a1516887266a68cb:1666049813,32b2c62a938131105a50e32eace19636:-1349169271,d072062a1f813110053cbe04190fc712:1812853501,dad1c6e61c813110cc63d63590d2277a:-659473573,dcd186e6a68131104f072539012a7cd5:-1872458731,7de086a6d58131101568eae34a2c29e9:-1943660515,a72086a6068131105a9d328dd2b48f4c:-851392428,52dfbd665d8131104ba81b81a260be4d:29788764,9ebff96692813110d825c121a03fe5c2:692762052,61da35227d813110bddac3df5afcf254:29788764,c81ab9eedf413110c1ad4e546426ec98:-991321886,28f55fd6ed49f110ea56e64df6136ea9:29788764,48555fd6a649f110e0a160389c0f15a4:163855416,8b1517d6f049f110646d7fc3d9c51b2f:-173091999,ba3413163a49f110a08c561b1035ed20:2078845554,af045b56a449f11078f81aabe96e0d85:1107354731,2a535b560249f1105c46410148f9cd6a:1242502526,0572d3d22349f110df37cab425f768c6:-1371970686,45029356a049f110e2c462195599944f:1984808420,9b9c0bde7a09f1106a3c8ad00516a53e:911305455,365c879e7909f110fd01322c5ade7e02:994836687,eddb0f9e4c09f110c70acd5eae824e22:-9340239,13bbc39ea009f110384a77b8f77e6df3:-1182086803,dff1f2d225c5f11082c0a1b2a42b76db:911305455,d7f1f2d2dcc5f11013e269dd90832cd9:214554533</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="คำนวณ DateTime, Hours, Price">b934ab2a4709311021f49128436d432a</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>system</sys_created_by>
        <sys_created_on>2023-09-06 12:21:13</sys_created_on>
        <sys_db_object display_value="" name="catalog_script_client">catalog_script_client</sys_db_object>
        <sys_id>386b43b910484a2c91c1d69cfa891281</sys_id>
        <sys_metadata>8a713a9247c5f11021f49128436d432d</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>คำนวณ DateTime, Hours, Price</sys_name>
        <sys_package display_value="Car parking reservation" source="x_950909_car_park">083c1ad84741311021f49128436d4349</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="Car parking reservation">083c1ad84741311021f49128436d4349</sys_scope>
        <sys_scope_delete display_value="">82482d33b9ae48e6913d08ce4cff8424</sys_scope_delete>
        <sys_update_name>catalog_script_client_8a713a9247c5f11021f49128436d432d</sys_update_name>
        <sys_update_version display_value="catalog_script_client_8a713a9247c5f11021f49128436d432d">aba1dee647c1311021f49128436d43e9</sys_update_version>
        <sys_updated_by>system</sys_updated_by>
        <sys_updated_on>2023-09-06 12:21:13</sys_updated_on>
    </sys_metadata_delete>
</record_update>
